<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
  <meta name="description" content=""/>
  <meta name="author" content=""/>
  <title>Space4Good</title>
  <!--favicon-->
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon"/>
  <!-- simplebar CSS-->
  <link href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet"/>
  <link href="assets/plugins/fancybox/css/jquery.fancybox.min.css" rel="stylesheet" type="text/css"/>
  <!-- Bootstrap core CSS-->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet"/>
  <!-- animate CSS-->
  <link href="assets/css/animate.css" rel="stylesheet" type="text/css"/>
  <!-- Icons CSS-->
  <link href="assets/css/icons.css" rel="stylesheet" type="text/css"/>
  <!-- Horizontal CSS-->
  <link href="assets/css/horizontal-menu.css" rel="stylesheet"/>
  <!-- Custom Style-->
  <link href="assets/css/app-style.css" rel="stylesheet"/>
  <style>

    html, body {

        height: 100% !important;

        margin: 0px;

    }
	
   .topbar-nav .navbar {
		background-color: rgba(32, 33, 40, 0.94)  !important;
		border-bottom: 1px solid rgb(32, 33, 40) !important;
	}
	.carousel table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

.carousel td, .carousel th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 5px 8px;
}

.carousel td:first-child {
  background-color: #f8f7f7;
}

.carousel-indicators li{background-color: #312f2f;}
.mapboxgl-popup{min-width:400px;z-index:9;}
.mapboxgl-popup-close-button{z-index: 9;
font-size: 18px;
font-weight: bold;}
.mapboxgl-popup-content{
padding: 10px 10px 10px !important;
}
</style>
</head>

<body class="bg-theme bg-theme6" >

<!-- start loader -->
   <div id="pageloader-overlay" class="visible incoming"><div class="loader-wrapper-outer"><div class="loader-wrapper-inner" ><div class="loader"></div></div></div></div>
   <!-- end loader -->

<!-- Start wrapper-->
 <div id="wrapper" style="z-index:9;height:100%;">

  <!--Start topbar header-->
<header class="topbar-nav">
 <nav class="navbar navbar-expand">
  <ul class="navbar-nav mr-auto align-items-center">
    <li class="nav-item">
      <a class="nav-link" href="javascript:void();">
        <div class="media align-items-center">
           <img src="assets/images/logo-icon.png" class="logo-icon" alt="logo icon" style="border-radius: 50%;background: #fff;">
          <div class="media-body">
            <h5 class="logo-text">Space4Good</h5>
          </div>
        </div>
     </a>
    </li>
    <li class="nav-item" style="margin-left: 11px;border-left: 1px solid;padding-left: 16px;">
      WB - No2 Monitoring Platform
	</li>
  </ul>
     
</nav>
</header>
<!--End topbar header-->



<div class="clearfix"></div>
	
  <div class="content-wrapper" style="height:100%">
    <div class="container-fluid" style="padding:0px 12px 0 12px;height:100%;">
     <div class="row" style="height:100%">
       <div class="col-12 col-lg-6 col-xl-12" id="map" style="height:100%;">
         					
             
       </div>
       <div class="col-12 col-lg-6 col-xl-3  mt-3" style="position: absolute;left: 0;">
         <div class="card">
            <div class="card-body">
              <form>
					<div class="form-group row">
					  <label for="input-21" class="col-sm-4 col-form-label">Country</label>
					  <div class="col-sm-8">
						<select class="form-control" id="year">
							  <option>Indonasia</option>
                        </select>
					  </div>
					</div>
					<div class="form-group row">
					  <label for="input-21" class="col-sm-4 col-form-label">Province</label>
					  <div class="col-sm-8">
						<select class="form-control" id="year">
                          <option value="">Province</option>
						  <option>Jawa Barat</option>
                          <option>Papua</option>
                        </select>
					  </div>
					</div>
					<div class="form-group row">
					  <label for="input-21" class="col-sm-4 col-form-label">Regency</label>
					  <div class="col-sm-8">
						<select class="form-control" id="year">
                          <option value="">Regency</option>
                        </select>
					  </div>
					</div>
					<div class="form-group row">
						<div class="col-sm-12">
							<div class="icheck-material-warning" style="width: auto;float: left;margin-right: 13px;">
								<input type="radio" name="type"  id="user-checkbox2"  class="type" checked="checked" value="2020"  >
								<label for="user-checkbox2">2020</label>
							</div>
							<div class="icheck-material-warning" >
								<input type="radio" name="type" id="user-checkbox1"  value="2019" class="type">
								<label for="user-checkbox1">2019</label>
							</div>
						</div>
				   </div>
				   <div class="form-group row">
						<div class="col-sm-12">
							<div class="icheck-material-warning" style="width: auto;float: left;margin-right: 13px;">
								<input type="radio" name="region" id="country" checked="checked" value="country" class="type">
								<label for="country">Month</label>
							</div>
							<div class="icheck-material-warning">
								<input type="radio" name="region"  id="province"  class="type"  value="province" >
								<label for="province">Quarter</label>
							</div>
						</div>
				   </div>
					 <div class="form-group row">
					  <label for="input-21" class="col-sm-4 col-form-label">Month</label>
					  <div class="col-sm-8">
						<select class="form-control" id="year">
							<option value="">Month</option>
                            <option value='01'>January</option>
							<option value='02'>February</option>
							<option value='03'>March</option>
							<option value='04'>April</option>
							<option value='05'>May</option>
							<option value='06'>June</option>
							<option value='07'>July</option>
							<option value='08'>August</option>
							<option value='09'>September</option>
							<option value='10'>October</option>
							<option value='11'>November</option>
							<option value='12'>December</option>
                        </select>
					  </div>
					</div>
					
					
					</form>
            </div>
         </div>
       </div>
     
		
		
	    <div class="col-12 col-lg-6 col-xl-2 mt-3" style="position: absolute;right: 0;">        
            <button type="button" class="btn btn-primary btn-sm mb-3 text-white">NLT</button>	
			<button type="button" class="btn btn-primary btn-sm mb-3 text-white">NO2</button>				
        </div>
	 
	 </div>
	  
    </div>
    <!-- End container-fluid-->
    
   </div><!--End content-wrapper-->
   <!--Start Back To Top Button-->
    <a href="javaScript:void();" class="back-to-top"><i class="fa fa-angle-double-up"></i> </a>
    <!--End Back To Top Button-->


  </div><!--End wrapper-->

   
  <!-- Bootstrap core JavaScript-->
  <script src="assets/js/jquery.min.js"></script>
  <script src="assets/js/popper.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
	
  <!-- simplebar js -->
  <script src="assets/plugins/simplebar/js/simplebar.js"></script>
  <!-- horizontal-menu js -->
  <script src="assets/js/horizontal-menu.js"></script>
  
  <!-- Custom scripts -->
  <script src="assets/js/app-script.js"></script>
  
<script src="assets/plugins/fancybox/js/jquery.fancybox.min.js"></script>
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoicmFpcy10bSIsImEiOiJjazhhcG9iaXAwNGYwM2x0cTV3MXNlMzJuIn0.xpAEjsKMI_hrKJPPcCmooQ';
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [116.62362,-1.05278],
        zoom: 3
    });
	map.addControl(new mapboxgl.NavigationControl(), 'top-right');
    map.on('load', function() {
        // Add a source for the state polygons.
        map.addSource('states', {
            'type': 'geojson',
            'data':
                'https://raw.githubusercontent.com/rais-m/geo-ui/master/assets/jsonfiles/Indonesia_provinces.geojson'
        });

        // Add a layer showing the state polygons.
        map.addLayer({
            'id': 'states-layer',
            'type': 'fill',
            'source': 'states',
            'paint': {
				'fill-color': '#43484d',
				'fill-opacity': [
				'case',
				['boolean', ['feature-state', 'hover'], false],
				1,
				0.5
				]
			}
        });
		
		map.addLayer({
		'id': 'state-borders',
		'type': 'line',
		'source': 'states',
		'layout': {},
		'paint': {
		'line-color': '#43484d',
		'line-width': 2
		}
		});
		
						
        // When a click event occurs on a feature in the states layer, open a popup at the
        // location of the click, with description HTML from its properties.
        map.on('click', 'states-layer', function(e) {
			var popup_html = '<h5 class="text-center">'+e.features[0].properties.NAME_1+'</h5><div id="carousel-4" class="carousel slide" data-ride="carousel" style="padding-bottom: 30px;"><ul class="carousel-indicators" style="margin-bottom: 0;"><li data-target="#carousel-4" data-slide-to="0" class="active"></li><li data-target="#carousel-4" data-slide-to="1"></li><li data-target="#carousel-4" data-slide-to="2"></li></ul><div class="carousel-inner"><div class="carousel-item active"><p class="text-center text-danger"><b>Zonal Statistics</b></p><table><tbody><tr><td>Country</td><td>'+e.features[0].properties.NAME_0+'</td></tr><tr><td>Admin Level</td><td>'+e.features[0].properties.NAME_1+'</td></tr><tr><td>Mean NO2</td><td></td></tr><tr><td>Median</td><td></td></tr><tr><td>#of pixels per boundary</td><td>3</td></tr></tbody></table></div><div class="carousel-item"><p class="text-center text-danger"><b>NO2 Time Series</b></p><div class="row"><div class="col-lg-7"> <a href="assets/images/3.png" data-fancybox="group2"><img src="assets/images/3.png" alt="lightbox" class="lightbox-thumb img-thumbnail"></a></div><div class="col-lg-5"><div class="text-center pt-2"> <button class="btn btn-danger btn-square btn-sm mb-2">Download NO2 Graph</button> <button class="btn btn-danger btn-square btn-sm">Download NO2 CSV</button></div></div></div></div><div class="carousel-item"><p class="text-center text-danger"><b>Correlation Mobility & GDP</b></p><div class="row"><div class="col-lg-6"> <a href="assets/images/1.png" data-fancybox="group2"><img src="assets/images/1.png" alt="lightbox" class="lightbox-thumb img-thumbnail"></a><div class="text-center p-2"> <button class="btn btn-danger btn-square btn-sm">Download Mobility Graph</button></div></div><div class="col-lg-6"> <a href="assets/images/1.png" data-fancybox="group2"><img src="assets/images/1.png" alt="lightbox" class="lightbox-thumb img-thumbnail"></a><div class="text-center p-2"> <button class="btn btn-danger btn-square btn-sm">Download GDP Graph</button></div></div></div></div></div></div>';
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML(popup_html)
                .addTo(map);
				
				 /*new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML(e.features[0].properties.NAME_1)
                .addTo(map);*/
        });

        // Change the cursor to a pointer when the mouse is over the states layer.
        map.on('mouseenter', 'states-layer', function() {
            map.getCanvas().style.cursor = 'pointer';			
        });

        // Change it back to a pointer when it leaves.
        map.on('mouseleave', 'states-layer', function() {
            map.getCanvas().style.cursor = '';
        });
    });
</script>
</body>
</html>
